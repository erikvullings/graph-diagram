"use strict";(self.webpackChunkgraph_diagram=self.webpackChunkgraph_diagram||[]).push([["5897"],{12410:function(t,e,i){function s(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,{N:()=>a,nM:()=>n,uZ:()=>s});class n{constructor(){this._n=1,this._val=0}update(t){return this._val=this._val+(t-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class a{constructor(t){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=Array(t),this._values.fill(0,0,t)}update(t){let e=this._values[this._index];return this._values[this._index]=t,this._index=(this._index+1)%this._values.length,this._sum-=e,this._sum+=t,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},27825:function(t,e,i){i.r(e),i.d(e,{ILanguageFeatureDebounceService:()=>v,LanguageFeatureDebounceService:()=>y});var s,n=i(33849),a=i(79941),r=i(12410),u=i(76914),h=i(7041),l=i(21721),_=i(36912),c=i(15173),o=function(t,e){return function(i,s){e(i,s,t)}};let v=(0,l.yh)("ILanguageFeatureDebounceService");var d=s||(s={});let f=new WeakMap,g=0;d.of=function(t){let e=f.get(t);return void 0===e&&(e=++g,f.set(t,e)),e};class m{constructor(t){this._default=t}get(t){return this._default}update(t,e){return this._default}default(){return this._default}}class p{constructor(t,e,i,s,n,r){this._logService=t,this._name=e,this._registry=i,this._default=s,this._min=n,this._max=r,this._cache=new a.z6(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((t,e)=>(0,n.SP)(s.of(e),t),0)}get(t){let e=this._key(t),i=this._cache.get(e);return i?(0,r.uZ)(i.value,this._min,this._max):this.default()}update(t,e){let i=this._key(t),s=this._cache.get(i);s||(s=new r.N(6),this._cache.set(i,s));let n=(0,r.uZ)(s.update(e),this._min,this._max);return(0,c.xn)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${n}ms`),n}_overall(){let t=new r.nM;for(let[,e]of this._cache)t.update(e.value);return t.value}default(){let t=0|this._overall()||this._default;return(0,r.uZ)(t,this._min,this._max)}}let y=class{constructor(t,e){this._logService=t,this._data=new Map,this._isDev=e.isExtensionDevelopment||!e.isBuilt}for(t,e,i){let n=i?.min??50,a=i?.max??n**2,r=i?.key??void 0,u=`${s.of(t)},${n}${r?","+r:""}`,h=this._data.get(u);return h||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${e}] is disabled in developed mode`),h=new m(1.5*n)):h=new p(this._logService,e,t,0|this._overallAverage()||1.5*n,n,a),this._data.set(u,h)),h}_overallAverage(){let t=new r.nM;for(let e of this._data.values())t.update(e.default());return t.value}};y=function(t,e,i,s){var n,a=arguments.length,r=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var u=t.length-1;u>=0;u--)(n=t[u])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r}([o(0,_.VZ),o(1,u.Y)],y),(0,h.z)(v,y,1)},76914:function(t,e,i){i.d(e,{Y:()=>s});let s=(0,i(21721).yh)("environmentService")},67830:function(t,e,i){i.d(e,{M:()=>s});class s{constructor(t,e=[],i=!1){this.ctor=t,this.staticArguments=e,this.supportsDelayedInstantiation=i}}},7041:function(t,e,i){i.d(e,{d:()=>r,z:()=>a});var s=i(67830);let n=[];function a(t,e,i){e instanceof s.M||(e=new s.M(e,[],!!i)),n.push([t,e])}function r(){return n}}}]);
//# sourceMappingURL=5897.bundle.js.map